â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¦€ UNIVERSAL PROMPT: Rust + SQLx + Railway PostgreSQL Integration
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Use this prompt for any Rust project that needs Railway PostgreSQL integration:

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PROMPT START
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Ø£Ø±ÙŠØ¯ Ù…Ù†Ùƒ ØªÙƒØ§Ù…Ù„ Ù…Ø´Ø±ÙˆØ¹ Rust Ù…Ø¹ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Railway PostgreSQL.

# Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:
- Backend: Rust + [Axum/Actix/Rocket]
- Database: SQLx + PostgreSQL
- Host: Railway PostgreSQL

# Ø¨ÙŠØ§Ù†Ø§Øª Railway:
PGUSER=postgres
PGPASSWORD=[YOUR_PASSWORD]
PGDATABASE=railway
PGHOST_INTERNAL=postgres.railway.internal
PGPORT_INTERNAL=5432
PGHOST_EXTERNAL=[YOUR_PROXY].proxy.rlwy.net
PGPORT_EXTERNAL=[YOUR_PORT]

DATABASE_URL_INTERNAL=postgresql://postgres:[PASSWORD]@postgres.railway.internal:5432/railway
DATABASE_URL_EXTERNAL=postgresql://postgres:[PASSWORD]@[PROXY].proxy.rlwy.net:[PORT]/railway

# Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:

1. Ø¥Ù†Ø´Ø§Ø¡/ØªØ­Ø¯ÙŠØ« Ù…Ù„ÙØ§Øª .env:
   - .env (Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ø´Ø·)
   - .env.local (ØªØ·ÙˆÙŠØ± Ù…Ø­Ù„ÙŠ - TCP proxy)
   - .env.railway (Ø¥Ù†ØªØ§Ø¬ - internal network)
   - .env.example (Ù‚Ø§Ù„Ø¨)

2. Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ÙÙŠ src/main.rs Ø£Ùˆ src/config.rs Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… dotenvy

3. ØªÙƒÙˆÙŠÙ† SQLx connection pool Ù…Ø­Ø³Ù‘Ù† Ù„Ù€ Railway:
   - max_connections: 20
   - min_connections: 2
   - acquire_timeout: 30s
   - idle_timeout: 10 min
   - max_lifetime: 30 min
   - test_before_acquire: true

4. Ø¥Ø¹Ø¯Ø§Ø¯ migrations ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… sqlx::migrate!()

5. Ø¥Ø¶Ø§ÙØ© error handling Ùˆ logging Ù„Ù„Ø§ØªØµØ§Ù„Ø§Øª

6. Ø¥Ù†Ø´Ø§Ø¡ setup script (setup-railway.sh) ÙŠÙ‚ÙˆÙ… Ø¨Ù€:
   - Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¨ÙŠØ¦Ø© (Ù…Ø­Ù„ÙŠ/Ø¥Ù†ØªØ§Ø¬)
   - Ù†Ø³Ø® Ù…Ù„Ù .env Ø§Ù„Ù…Ù†Ø§Ø³Ø¨
   - Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„
   - ØªØ´ØºÙŠÙ„ migrations

7. Ø¥Ù†Ø´Ø§Ø¡ test script (test-railway-connection.sh) ÙŠØ®ØªØ¨Ø±:
   - ØªÙˆÙØ± PostgreSQL client
   - Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ (TCP proxy)
   - ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„
   - ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙƒØªØ§Ø¨Ø©

8. ØªØ­Ø¯ÙŠØ« Dockerfile Ø¨Ù€:
   - SSL/TLS certificates (ca-certificates, openssl)
   - Health check endpoint
   - Runtime dependencies

9. Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„ÙØ§Øª Railway:
   - railway.toml
   - railway.json

10. ØªÙˆØ«ÙŠÙ‚ Ø´Ø§Ù…Ù„ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©

# Ø§Ù„ØªØ³Ù„ÙŠÙ…Ø§Øª:
- Ø¬Ù…ÙŠØ¹ Ù…Ù„ÙØ§Øª .env Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ù†Ø³Ø®/Ø§Ù„Ù„ØµÙ‚
- ÙƒÙˆØ¯ Ø§ØªØµØ§Ù„ Ù…Ø­Ø³Ù‘Ù†
- Ø³ÙƒØ±Ø¨ØªØ§Øª Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØ§Ù„Ø§Ø®ØªØ¨Ø§Ø±
- ØªÙƒÙˆÙŠÙ† Railway
- ØªÙˆØ«ÙŠÙ‚ ÙƒØ§Ù…Ù„

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PROMPT END
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“‹ QUICK CHECKLIST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Before using this prompt, gather:
[ ] Railway PostgreSQL password
[ ] Railway proxy domain and port
[ ] Project name
[ ] Web framework used (Axum/Actix/Rocket)
[ ] Current Cargo.toml dependencies

After getting the response:
[ ] Copy .env.local to .env for local dev
[ ] Run ./setup-railway.sh
[ ] Test with ./test-railway-connection.sh
[ ] Run cargo run to test locally
[ ] Deploy with railway up

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
