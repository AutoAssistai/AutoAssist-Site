# Railway.app Configuration for AutoAssist.ai Backend
# This file defines how Railway should build and deploy the application

[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"
watchPaths = ["autoassist-api/**"]

[deploy]
startCommand = "./autoassist-api"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

# Health check configuration
healthcheckPath = "/health"
healthcheckTimeout = 30

# Automatic deployment on git push
[deploy.trigger]
branch = "main"

# Environment configuration
[env]
# Server configuration
HOST = "0.0.0.0"
PORT = "8080"

# Logging
RUST_LOG = "autoassist_api=info,tower_http=info,sqlx=info"

# Database URL will be automatically set by Railway if PostgreSQL service is linked
# Or set manually in Railway dashboard: DATABASE_URL

# SMTP configuration should be set in Railway dashboard as secrets:
# SMTP_HOST, SMTP_PORT, SMTP_USERNAME, SMTP_PASSWORD, SMTP_FROM, ADMIN_EMAIL
